<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Brow Brow: Brownian Motion in a Browser</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
        <script type="text/javascript" src="https://code.jquery.com/jquery-1.10.2.js"></script>
        <script type="text/javascript" src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
        <script type="text/javascript" src="nodelib.js"></script>
        <script type="text/javascript" src="uilib.js"></script>
        <script type="text/javascript" src="evolvelib.js"></script>
	    <script type="text/javascript" src="perlin.js"></script>
        <script type="text/javascript">
    
            // initialize the simulation
            $( document ).ready(function() {
                var e = new Evolver(new Tree(),new UI());
                setInterval( function(){ e.evolve() }, 100 );
            });
            
        </script>
    </head>
    <body>
        <canvas id="landscape"></canvas>
        <div id="controls">
            <h3>Settings</h3>
            <div>
                <!--br />
                <h3>Habitat</h3-->
            	<div class="inputBox">
            		<label for="patchiness">Habitat size</label>
                    <input
                        type="text"
                        min="100"
                        max="1000"
                        class="ones"
                        id="patchiness"
                        title="patchiness"
                        value="700" />
            	</div>
            	<div class="inputBox">
            		<label for="habitatColors">Habitat colors</label>
                    <input
                        type="text"
                        min="2"
                        max="5"
                        class="ones"                        
                        id="habitatColors"
                        title="habitat colors"
                        value="3" />
            	</div>
                <!--br />
                <h3>Evolution</h3-->
                <div class="inputBox">
                    <label for="positionHeritability">Dispersal rate</label>
                    <input
                        type="text"
                        min="0"
                        max="0.01"
                        class="hundredths"
                        id="positionHeritability"
                        title="position heritability"
                        value="0.003" />
                </div>		    
                <div class="inputBox">
                    <label for="colorHeritability">Evolvability</label>
                    <input
                        type="text"
                        min="0"
                        max="0.10"
                        class="hundredths"
                        id="colorHeritability"
                        title="color heritability"
                        value="0.1" />
                </div>
                <div class="inputBox">
                    <label for="speciationRate">Speciation rate λ</label>
                    <input
                            type="text"
                            min="0"
                            max="0.2"
                            class="tenths"
                            id="speciationRate"
                            title="speciation rate"
                            value="0.15" />
                </div>		    
                <div class="inputBox">
                    <label for="extinctionRate">Extinction rate μ</label>
                    <input
                        type="text"
                        min="0"
                        max="0.2"
                        class="tenths"
                        id="extinctionRate"
                        title="extinction rate"
                        value="0.15" />
                </div>
                <br />
                <div style="text-align: right">
                    <label for="drawTree">Update tree</label>
                    <div id="drawTree"></div><br />
                    <label for="drawFade">Fade previous</label>
                    <div id="drawFade"></div>
                </div>
                <br />
                <svg id="svg"></svg>
                <br />
                <h3>&rarr;<a href="#" onclick="document.location.reload(true);">Restart</a></h3>
            </div>
        </div>
        <canvas id="evolver"></canvas>
    </body>
</html>
